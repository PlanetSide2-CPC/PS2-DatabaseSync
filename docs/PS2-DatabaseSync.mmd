Mind Map generated by NB MindMap plugin   
> __version__=`1.1`,showJumps=`true`
---

#  PS2\-DatabaseSync

## 项目背景

### 前端机器人需要使用数据库数据

### 将搜集到的信息储存至数据库

## 涉及服务

### API 获取数据

### 数据库更新

## 模型变动

### 数据库表单

#### 玩家击杀：player\_kills

#### 警报事件：alert\_event

### 新增模型

#### 获取数据并更新（组合）

##### 数据库操作

###### 更新数据
> topicLinkUID=`17EEC8B2724A`


###### 验证数据

####### 传入数据 \(dict\)
- TOPIC
<pre>17EEC8FB377A</pre>

####### 事件处理器
> topicLinkUID=`17EEC8FB377A`


######## 1 层：是否符合订阅事件

######## 2 层：调用
- TOPIC
<pre>17EEC8B2724A</pre>

##### API 连接

###### Websocket 订阅目标事件

###### 将返回的结果调用数据库操作

##### 高层代码

###### 传入配置信息启动连接

## 项目方案

### 性能

#### 异步同步

#### 单例模式

### 可靠性

#### 数据备份

#### 断线处理

### 稳定性

#### 读写分离

## 解决问题

### API 连接掉线

#### 已解决，自动重连

#### 多次重连可能导致 API 禁止，或假死

### 数据库重复插入

#### 未解决

## 项目排期

### 服务，测试，上线

#### 十一

## 上线准备

### 创建 PlanetSide2 数据库

### 配置项目的 Config 和数据库验证

## 项目沉淀

### 技术积累

### 问题积累

### 业务积累

### 收获
